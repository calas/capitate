= Configr

The idea is to have:

* A central configuration file (since alot of configuration information is shared between mongrel, sphinx, rails, nginx, monit, etc.)
* Use (erb) templates to generate configuration files and the capistrano configuration itself
* Use rake and capistrano (they aren't perfect but everyone uses them so..)


== Creating image

From the configr directory:

  cap install

Help:  
* You may need to comment out "Defaults requiretty" in /etc/sudoders on the image before capistrano recipes will work.
  
    
== Deploying (application)

If this is the first time you've deployed you'll need to run:

  cap deploy:setup

Otherwise, your deploy options:
  
  cap deploy

  cap deploy:migrations (deploys and does migration)
  
  cap deploy:migrate (only does migration on existing deployment)


== Freezing gems

You must freeze all gems (excluding core ones like mongrel, ruby-mysql, etc):

Freeze rails:
  rake rails:freeze:edge TAG=rel_2-0-2
  
Gemsonrails:
  http://gemsonrails.rubyforge.org/
  
  